<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Panel - Loom SDK</title>
</head>
<body>
  <h1>Welcome Admin</h1>
  <button id="start-recording">Start Recording Terms & Conditions</button>

  <!-- LOOM SDK Script -->
  <script src="https://cdn.loom.com/s/recording.js"></script>
  
  <script>
    let loomSDKLoaded = false;

    // Wait for Loom SDK to load
    window.addEventListener("load", () => {
      if (typeof window.LoomSDK !== "undefined") {
        loomSDKLoaded = true;
        console.log("✅ Loom SDK Loaded");
      } else {
        console.error("❌ Loom SDK Failed to Load");
      }
    });

    // Button click triggers Loom recording
    document.addEventListener("DOMContentLoaded", function () {
      const recordBtn = document.getElementById("start-recording");

      recordBtn.addEventListener("click", () => {
        if (!loomSDKLoaded) {
          alert("Loom SDK not loaded yet. Try again.");
          return;
        }

        // Open Loom recorder modal
        window.LoomSDK.openModal().catch((error) => {
          console.error("Loom modal failed:", error);
        });
      });
    });
  </script>
</body>
</html>
